<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/common}">
<head>
  <title layout:fragment="title">메뉴 추가</title>
  <link layout:fragment="styles" rel="stylesheet" href="/css/cafe/add-menu.css"/>
</head>
<body>
<div layout:fragment="content">
  <div class="add-menu-container">
    <div class="form-wrapper">
      <h1 class="form-title">메뉴추가</h1>

      <!-- 실제 서버 전송 시 사용할 폼 (현재 주석처리) -->
      <!--
      <form id="menuForm" class="menu-form" th:action="@{/menu/register}" th:object="${menuForm}" method="post" enctype="multipart/form-data">
      -->

      <!-- 화면 테스트용 폼 -->
      <form id="menuForm" class="menu-form" onsubmit="return false;">
        <div class="form-group">
          <label for="menuCategory">메뉴 카테고리</label>
          <select id="menuCategory" name="menuCategory" required>
            <option value="">카테고리 선택</option>
            <option value="커피" selected>커피</option>
            <option value="음료">음료</option>
            <option value="디저트">디저트</option>
            <option value="베이커리">베이커리</option>
            <option value="샐러드">샐러드</option>
            <option value="샌드위치">샌드위치</option>
          </select>
        </div>

        <input type="hidden" id="cafeId" name="cafeId" th:value="${cafeId}">

        <div class="form-group">
          <label for="menuName">메뉴명</label>
          <input type="text" id="menuName" name="menuName" placeholder="메뉴를 입력해주세요" required>
        </div>

        <div class="form-group">
          <label for="menuDescription">메뉴소개</label>
          <textarea id="menuDescription" name="menuDescription" placeholder="최대 300자"
                    maxlength="300"></textarea>
          <div class="char-count">
            <span id="charCount">0</span>/300
          </div>
        </div>

        <div class="form-group">
          <label for="price">가격</label>
          <input type="number" id="price" name="price" placeholder="가격을 입력해주세요" min="0" step="100"
                 required>
        </div>

        <div class="form-group">
          <div class="image-upload" id="imageUpload">
            <div class="upload-content">
              <div class="upload-icon">📷</div>
              <span class="upload-text">사진 추가</span>
            </div>
            <input type="file" id="imageInput" name="imageInput" accept="image/*"
                   style="display: none;">
          </div>
          <div id="imagePreview" class="image-preview"></div>
        </div>

        <div class="form-actions">
          <button type="button" class="btn btn-cancel" id="cancelBtn">취소</button>
          <button type="submit" class="btn btn-submit">등록</button>
        </div>
      </form>
    </div>
  </div>
</div>
<th:block layout:fragment="scripts">
  <script th:src="@{/js/cafe/add-menu.js}"></script>
</th:block>
</body>
</html>